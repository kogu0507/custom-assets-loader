document.addEventListener('DOMContentLoaded',()=>{const copyButtons=document.querySelectorAll('.copy-trigger-btn');copyButtons.forEach(copyButton=>{copyButton.addEventListener('click',()=>{const container=copyButton.closest('.code-copy-block');if(!container){console.error('親コンテナ(.code-copy-block)が見つかりません。');return} const codeElement=container.querySelector('.code-to-copy');if(!codeElement){console.error('コード要素(.code-to-copy)が見つかりません。');return} const codeToCopy=codeElement.textContent;navigator.clipboard.writeText(codeToCopy).then(()=>{const originalText=copyButton.textContent;copyButton.textContent='コピー完了!';copyButton.disabled=!0;setTimeout(()=>{copyButton.textContent=originalText;copyButton.disabled=!1},3000)}).catch(err=>{console.error('コピーに失敗しました: ',err);alert('コピーに失敗しました。手動でコピーしてください。')})})})})
